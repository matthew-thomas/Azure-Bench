@model WebPortal.Controllers.RedisBenchViewModel

@{
    ViewBag.Title = "Azure Bench - Redis Cache";
}

@section styles
{
    <style type="text/css">
        .Results {
            white-space: pre-line;
        }

        .RedisFunctionPane {
            background-color: lightgray;
            padding: 10px;
        }

        .FieldSection {
            margin: 5px;
        }

        .FieldSection label {
            font-weight: lighter;
            float:       left;
            width:       175px;
        }
    </style>
}

<h1>Redis Cache</h1>

<div id="RedisFunctions">
    <h2>StringSet</h2>
    <div class="RedisFunctionPane">
        @using (Ajax.BeginForm("StringSet", "RedisCache", new AjaxOptions { HttpMethod = "POST", UpdateTargetId = "StringSetResults" }))
        {
            @Html.LabelFor(model => model.ServiceSettings)
            <div class="FieldSection">@Html.EditorFor(model => model.ServiceSettings)</div>
            
            @Html.LabelFor(model  => model.StringSetParameters)
            <div class="FieldSection">@Html.EditorFor(model => model.StringSetParameters)</div>

            @Html.LabelFor(model  => model.ExecutionSettings)
            <div class="FieldSection">@Html.EditorFor(model => model.ExecutionSettings)</div>

            <input type="submit" value="Execute"/>
        }

        <div id="StringSetResults" class="Results"></div>
    </div>

    <h2>StringGet</h2>
    <div class="RedisFunctionPane">
        @using (Ajax.BeginForm("StringGet", "RedisCache", new AjaxOptions { HttpMethod = "POST", UpdateTargetId = "StringGetResults" }))
        {
            @Html.LabelFor(model => model.ServiceSettings)
            <div class="FieldSection">@Html.EditorFor(model => model.ServiceSettings)</div>
            
            @Html.LabelFor(model => model.StringGetParameters)
            <div class="FieldSection">@Html.EditorFor(model => model.StringGetParameters)</div>
            
            @Html.LabelFor(model  => model.ExecutionSettings)
            <div class="FieldSection">@Html.EditorFor(model => model.ExecutionSettings)</div>

            <input type="submit" value="Execute" />
        }

        <div id="StringGetResults" class="Results"></div>
    </div>
</div>

@section scripts {
    <script type="text/javascript">
        $(function() {
            $('#RedisFunctions').accordion({heightStyle:"content"});
        });
    </script>
}